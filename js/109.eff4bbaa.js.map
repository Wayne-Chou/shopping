{"version":3,"file":"js/109.eff4bbaa.js","mappings":"gLACOA,MAAM,S,GACJA,MAAM,Q,GACNA,MAAM,Q,kEAFbC,EAAAA,EAAAA,IAGM,MAHNC,EAGM,EAFJC,EAAAA,EAAAA,GAAsE,MAAtEC,EAAsE,EAApDC,EAAAA,EAAAA,IAA8CC,EAAA,CAAjCC,GAAG,aAAW,C,kBAAC,IAAI,UAAJ,W,SAC9CJ,EAAAA,EAAAA,GAAmE,MAAnEK,EAAmE,EAAjDH,EAAAA,EAAAA,IAA2CC,EAAA,CAA9BC,GAAG,UAAQ,C,kBAAC,IAAI,UAAJ,W,sBCF/C,MAAME,EAAS,CAAC,EAKVC,GAA2B,OAAgBD,EAAQ,CAAC,CAAC,SAASE,GAAQ,CAAC,YAAY,qBAEzF,O,qKCNOX,MAAM,O,UAETG,EAAAA,EAAAA,GAA4B,SAArBS,IAAI,QAAO,MAAE,K,SAQQZ,MAAM,iB,UAGlCG,EAAAA,EAAAA,GAAM,qB,UACNA,EAAAA,EAAAA,GAA+B,SAAxBS,IAAI,WAAU,MAAE,K,SAQIZ,MAAM,iB,UAGjCG,EAAAA,EAAAA,GAAM,qB,UACNA,EAAAA,EAAAA,GAA+B,SAAxBS,IAAI,SAAQ,QAAI,K,SAEEZ,MAAM,iB,UAC/BG,EAAAA,EAAAA,GAAM,qB,UACNA,EAAAA,EAAAA,GAAgC,SAAzBS,IAAI,YAAW,MAAE,K,SAQIZ,MAAM,iB,UAGlCG,EAAAA,EAAAA,GAAM,qB,UACNA,EAAAA,EAAAA,GAAyC,SAAlCS,IAAI,mBAAkB,QAAI,K,SAQAZ,MAAM,iB,2FAnDzCK,EAAAA,EAAAA,IAAYQ,IACZV,EAAAA,EAAAA,GAuDM,MAvDND,EAuDM,EAtDJC,EAAAA,EAAAA,GAAkC,UAA9B,QAAIW,EAAAA,EAAAA,IAAGC,EAAAC,OAAOC,UAAQ,GAC1Bb,GAA4B,SAC5BD,EAAAA,EAAAA,GAME,S,qCALSY,EAAAC,OAAOC,SAAQC,GACxBC,KAAK,OACLC,GAAG,OACHC,KAAK,OACLC,SAAA,I,iBAJSP,EAAAC,OAAOC,YAMPF,EAAAQ,OAAON,WAAQ,WAA1BhB,EAAAA,EAAAA,IAEM,MAFNO,GAEMM,EAAAA,EAAAA,IADDC,EAAAQ,OAAON,UAAQ,oBAEpBO,EACAC,GAA+B,SAC/BtB,EAAAA,EAAAA,GAME,S,qCALSY,EAAAC,OAAOU,QAAOR,GACvBC,KAAK,OACLC,GAAG,UACHC,KAAK,UACLC,SAAA,I,iBAJSP,EAAAC,OAAOU,WAMPX,EAAAQ,OAAOG,UAAO,WAAzBzB,EAAAA,EAAAA,IAEM,MAFN0B,GAEMb,EAAAA,EAAAA,IADDC,EAAAQ,OAAOG,SAAO,oBAEnBE,EACAC,GAA+B,SAC/B1B,EAAAA,EAAAA,GAA4E,S,qCAA5DY,EAAAC,OAAOc,MAAKZ,GAAEC,KAAK,MAAMC,GAAG,QAAQC,KAAK,QAAQC,SAAA,I,iBAAjDP,EAAAC,OAAOc,SACZf,EAAAQ,OAAOO,QAAK,WAAvB7B,EAAAA,EAAAA,IAAuE,MAAvE8B,GAAuEjB,EAAAA,EAAAA,IAArBC,EAAAQ,OAAOO,OAAK,oBAC9DE,EACAC,GAAgC,SAChC9B,EAAAA,EAAAA,GAME,S,qCALSY,EAAAC,OAAOkB,SAAQhB,GACxBC,KAAK,WACLC,GAAG,WACHC,KAAK,WACLC,SAAA,I,iBAJSP,EAAAC,OAAOkB,YAMPnB,EAAAQ,OAAOW,WAAQ,WAA1BjC,EAAAA,EAAAA,IAEM,MAFNkC,GAEMrB,EAAAA,EAAAA,IADDC,EAAAQ,OAAOW,UAAQ,oBAEpBE,EACAC,GAAyC,SACzClC,EAAAA,EAAAA,GAME,S,qCALSY,EAAAC,OAAOsB,cAAapB,GAC7BC,KAAK,WACLC,GAAG,kBACHC,KAAK,kBACLC,SAAA,I,iBAJSP,EAAAC,OAAOsB,iBAMPvB,EAAAQ,OAAOe,gBAAa,WAA/BrC,EAAAA,EAAAA,IAEM,MAFNsC,GAEMzB,EAAAA,EAAAA,IADDC,EAAAQ,OAAOe,eAAa,qBAGzBnC,EAAAA,EAAAA,GAA4D,UAAnDqC,QAAKC,EAAA,KAAAA,EAAA,GAAAvB,GAAEwB,EAAAC,OAAO5B,EAAAC,OAAOI,KAAKpB,MAAM,OAAM,WAAI,G,eAMvD,GACE4C,IAAAA,GACE,MAAO,CACL3B,SAAU,GACViB,SAAU,GACVJ,MAAO,GACPQ,cAAe,GACfZ,QAAS,GACTV,OAAQ,CAAC,EACTO,OAAQ,CAAC,EAEb,EACAsB,WAAY,CACVC,SAAQA,EAAAA,GAEVC,SAAU,CAERC,QAAAA,GACE,OAAOC,KAAKC,OAAOC,MAAMH,QAC3B,GAEFI,OAAAA,GAEEH,KAAKjC,OAASiC,KAAKD,QACrB,EACAK,QAAS,CACPV,MAAAA,CAAOvB,GACL6B,KAAK1B,OAAS,CAAC,EACV0B,KAAKhC,SAASqC,MAAM,8BACvBL,KAAK1B,OAAOF,KAAO,eAEhB,WAAWkC,KAAKN,KAAKjC,OAAOc,SAC/BmB,KAAK1B,OAAOO,MAAQ,eAElBmB,KAAKf,WAAae,KAAKX,gBACzBW,KAAK1B,OAAOW,SAAW,QACvBe,KAAK1B,OAAOe,cAAgB,SAE9B,IAAIK,EAAS,CACX1B,SAAUgC,KAAKjC,OAAOC,SACtBa,MAAOmB,KAAKjC,OAAOc,MACnBJ,QAASuB,KAAKjC,OAAOU,QACrBQ,SAAUe,KAAKjC,OAAOkB,UAGxBe,KAAKO,OACFC,MAAM,gCAAkCrC,EAAIuB,GAC5Ce,MAAK,KACJT,KAAKO,OAAOG,IAAI,gCAAkCvC,GAAIsC,MAAME,IAC1DX,KAAKjC,OAAS4C,EAAIhB,KAClBK,KAAKC,OAAOW,OAAO,cAAeD,EAAIhB,MACtCkB,QAAQC,IAAI,SAAUH,EAAI,GAC1B,GAER,I,QC7GJ,MAAMlD,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://shopping-test/./src/components/OrderEle.vue","webpack://shopping-test/./src/components/OrderEle.vue?9499","webpack://shopping-test/./src/views/MemberView.vue","webpack://shopping-test/./src/views/MemberView.vue?8c6e"],"sourcesContent":["<template>\r\n  <div class=\"items\">\r\n    <div class=\"item\"><router-link to=\"OrderView\">訂單查詢</router-link></div>\r\n    <div class=\"item\"><router-link to=\"Member\">會員資料</router-link></div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.items {\r\n  display: flex;\r\n  justify-content: space-around;\r\n  max-width: 650px;\r\n  width: 100%;\r\n  background: #ccc;\r\n  margin: 0 auto;\r\n}\r\n.item {\r\n  padding: 30px;\r\n}\r\n</style>","import { render } from \"./OrderEle.vue?vue&type=template&id=70d65ab8&scoped=true\"\nconst script = {}\n\nimport \"./OrderEle.vue?vue&type=style&index=0&id=70d65ab8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-70d65ab8\"]])\n\nexport default __exports__","<template>\r\n  <OrderEle />\r\n  <div class=\"box\">\r\n    <h1>會員資料{{ member.username }}</h1>\r\n    <label for=\"user\">姓名</label>\r\n    <input\r\n      v-model=\"member.username\"\r\n      type=\"text\"\r\n      id=\"user\"\r\n      name=\"user\"\r\n      required\r\n    />\r\n    <div v-if=\"errors.username\" class=\"error-message\">\r\n      {{ errors.username }}\r\n    </div>\r\n    <br />\r\n    <label for=\"address\">地址</label>\r\n    <input\r\n      v-model=\"member.address\"\r\n      type=\"text\"\r\n      id=\"address\"\r\n      name=\"address\"\r\n      required\r\n    />\r\n    <div v-if=\"errors.address\" class=\"error-message\">\r\n      {{ errors.address }}\r\n    </div>\r\n    <br />\r\n    <label for=\"phone\">手機號碼</label>\r\n    <input v-model=\"member.phone\" type=\"tel\" id=\"phone\" name=\"phone\" required />\r\n    <div v-if=\"errors.phone\" class=\"error-message\">{{ errors.phone }}</div>\r\n    <br />\r\n    <label for=\"password\">密碼</label>\r\n    <input\r\n      v-model=\"member.password\"\r\n      type=\"password\"\r\n      id=\"password\"\r\n      name=\"password\"\r\n      required\r\n    />\r\n    <div v-if=\"errors.password\" class=\"error-message\">\r\n      {{ errors.password }}\r\n    </div>\r\n    <br />\r\n    <label for=\"confirmPassword\">確認密碼</label>\r\n    <input\r\n      v-model=\"member.checkPassword\"\r\n      type=\"password\"\r\n      id=\"confirmPassword\"\r\n      name=\"confirmPassword\"\r\n      required\r\n    />\r\n    <div v-if=\"errors.checkPassword\" class=\"error-message\">\r\n      {{ errors.checkPassword }}\r\n    </div>\r\n\r\n    <button @click=\"change(member.id)\" class=\"btn\">確認修改</button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport OrderEle from \"@/components/OrderEle.vue\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      username: \"\",\r\n      password: \"\",\r\n      phone: \"\",\r\n      checkPassword: \"\",\r\n      address: \"\",\r\n      member: {}, //儲存會員資料\r\n      errors: {}, //顯示錯誤訊息\r\n    };\r\n  },\r\n  components: {\r\n    OrderEle,\r\n  },\r\n  computed: {\r\n    // 計算屬性取得store的userInfo資料\r\n    userInfo() {\r\n      return this.$store.state.userInfo;\r\n    },\r\n  },\r\n  created() {\r\n    // 在生命週期created拿到資料\r\n    this.member = this.userInfo;\r\n  },\r\n  methods: {\r\n    change(id) {\r\n      this.errors = {};\r\n      if (!this.username.match(/^[A-Za-z\\u4e00-\\u9fa5]+$/)) {\r\n        this.errors.name = \"姓名只能包含中英文字符\";\r\n      }\r\n      if (!/^\\d{10}$/.test(this.member.phone)) {\r\n        this.errors.phone = \"手機號碼必須是10位數\";\r\n      }\r\n      if (this.password !== this.checkPassword) {\r\n        this.errors.password = \"密碼不一致\";\r\n        this.errors.checkPassword = \"密碼不一致\";\r\n      }\r\n      let change = {\r\n        username: this.member.username,\r\n        phone: this.member.phone,\r\n        address: this.member.address,\r\n        password: this.member.password,\r\n      };\r\n\r\n      this.$axios\r\n        .patch(\"http://localhost:3000/member/\" + id, change)\r\n        .then(() => {\r\n          this.$axios.get(\"http://localhost:3000/member/\" + id).then((res) => {\r\n            this.member = res.data;\r\n            this.$store.commit(\"setUserInfo\", res.data);\r\n            console.log(\"member\", res);\r\n          });\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nh1 {\r\n  text-align: center;\r\n}\r\n.box {\r\n  background: Blanchedalmond;\r\n  padding: 30px;\r\n  max-width: 300px;\r\n  width: 100%;\r\n  margin: 30px auto;\r\n}\r\n.box input {\r\n  height: 30px;\r\n  width: 100%;\r\n  margin-bottom: 20px;\r\n}\r\n.btn {\r\n  width: 100%;\r\n  height: 30px;\r\n  margin-top: 15px;\r\n  background: Maroon;\r\n  color: #fff;\r\n  font-size: 20px;\r\n  cursor: pointer;\r\n  outline: none;\r\n  border: none;\r\n}\r\n\r\n/* 錯誤訊息 */\r\n.error-message {\r\n  color: red;\r\n  font-size: 14px;\r\n  margin-top: 5px;\r\n}\r\n</style>\r\n","import { render } from \"./MemberView.vue?vue&type=template&id=71fca098&scoped=true\"\nimport script from \"./MemberView.vue?vue&type=script&lang=js\"\nexport * from \"./MemberView.vue?vue&type=script&lang=js\"\n\nimport \"./MemberView.vue?vue&type=style&index=0&id=71fca098&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-71fca098\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_router_link","to","_hoisted_3","script","__exports__","render","for","_component_OrderEle","_toDisplayString","$data","member","username","$event","type","id","name","required","errors","_hoisted_4","_hoisted_5","address","_hoisted_6","_hoisted_7","_hoisted_8","phone","_hoisted_9","_hoisted_10","_hoisted_11","password","_hoisted_12","_hoisted_13","_hoisted_14","checkPassword","_hoisted_15","onClick","_cache","$options","change","data","components","OrderEle","computed","userInfo","this","$store","state","created","methods","match","test","$axios","patch","then","get","res","commit","console","log"],"sourceRoot":""}