{"version":3,"file":"js/69.e74dbd58.js","mappings":"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","sources":["webpack://shopping-test/./src/views/ProductDetail.vue","webpack://shopping-test/./src/views/ProductDetail.vue?f49c"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"productsList\">\r\n      <div class=\"product_item\">\r\n        <span class=\"product_number\">{{ productInfo.id }}</span>\r\n        <div class=\"product_img\">\r\n          <img :src=\"productInfo.img\" alt=\"\" />\r\n        </div>\r\n        <div class=\"product_content\">\r\n          <h3 class=\"product_title\">{{ productInfo.title }}</h3>\r\n          <p class=\"product_model\">{{ productInfo.model }}</p>\r\n          <p class=\"product_cost\">{{ productInfo.cost }}</p>\r\n          <p class=\"product_price\">{{ productInfo.code }}</p>\r\n          <div class=\"shop_love\">\r\n            <div @click=\"addToCart(productInfo)\" class=\"shpping_icon\">\r\n              <i class=\"fa-solid fa-cart-shopping\"></i>\r\n            </div>\r\n            <div\r\n              class=\"love_icon\"\r\n              @click=\"addFavorite(productInfo)\"\r\n              :class=\"{ active: Isfav }\"\r\n            >\r\n              <i class=\"fa-regular fa-heart\"></i>\r\n              <i class=\"fa-solid fa-heart\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      // 用來裝使用者資料\r\n      productInfo: {},\r\n      //用來裝商品資料的\r\n      carItems: [],\r\n      // 喜愛商品樣式預設\r\n      Isfav: false,\r\n    };\r\n  },\r\n  // 使用計算屬性取得當前id的值\r\n  computed: {\r\n    productId() {\r\n      return this.$route.params.id;\r\n    },\r\n    // 從store取得使用者資料\r\n    loginedUserInfo() {\r\n      return this.$store.getters.loginedUserInfo;\r\n    },\r\n  },\r\n  watch: {},\r\n  // 在生命週期created呼叫productInfoGetInfo取得商品資訊\r\n  created() {\r\n    this.productInfoGetInfo();\r\n    this.getWishList();\r\n  },\r\n  methods: {\r\n    // 在這裡使用gat的方式取得商品資訊\r\n    productInfoGetInfo() {\r\n      this.$axios\r\n        .get(\"http://localhost:3000/products/\" + this.productId)\r\n        .then((res) => {\r\n          this.productInfo = res.data;\r\n          // console.log(res.data);\r\n          // console.log(this.productInfo);\r\n        });\r\n    },\r\n    addToCart(productInfo) {\r\n      // 運用find來比對商品存不存在\r\n      const NotexistItem = this.carItems.find(\r\n        (item) => item.product.id === productInfo.id\r\n      );\r\n      // 如果商品不存在觸發store的mutations\r\n      if (!NotexistItem) {\r\n        this.$store.commit(\"addShoppingCar\", productInfo);\r\n      }\r\n    },\r\n\r\n    getWishList() {\r\n      this.$axios.get(\"http://localhost:3000/wishList/\").then((res) => {\r\n        this.wishList = res.data.filter(\r\n          (item) => item.userId === this.loginedUserInfo.id\r\n        );\r\n        console.log(\"wishList\", this.wishList);\r\n      });\r\n    },\r\n\r\n    addFavorite(productInfo) {\r\n      this.Isfav = !this.Isfav;\r\n      if (this.loginedUserInfo.id) {\r\n        const existItem = this.wishList.find(\r\n          (item) => item.productNumber === productInfo.id\r\n        );\r\n\r\n        if (existItem) {\r\n          this.$axios\r\n            .delete(\"http://localhost:3000/wishList/\" + existItem.id)\r\n            .then(() => {\r\n              this.getWishList();\r\n            });\r\n        } else {\r\n          let Myfavorite = {\r\n            productNumber: productInfo.id,\r\n            userId: this.loginedUserInfo.id,\r\n          };\r\n          this.$axios\r\n            .post(\"http://localhost:3000/wishList/\", Myfavorite)\r\n            .then(() => {\r\n              this.getWishList();\r\n            });\r\n        }\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n* {\r\n  box-sizing: border-box;\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n.product_content {\r\n  padding: 40px;\r\n  text-align: center;\r\n}\r\n.product_item {\r\n  position: relative;\r\n}\r\n.product_img {\r\n  width: 100%;\r\n  background: #000;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n.product_img img {\r\n  width: 250px;\r\n  height: 300px;\r\n  padding: 10px;\r\n}\r\n.product_total {\r\n  margin-bottom: 20px;\r\n  font-size: 18px;\r\n}\r\n.product_total span {\r\n  font-weight: bold;\r\n  color: #09ceb7;\r\n}\r\n.product_number {\r\n  position: absolute;\r\n  background: #09ceb7;\r\n  color: #fff;\r\n  padding: 5px;\r\n  font-size: 12px;\r\n  top: 0;\r\n  right: 0;\r\n}\r\n.product_title {\r\n  font-size: 24px;\r\n  margin-bottom: 20px;\r\n}\r\n.product_cost {\r\n  font-size: 28px;\r\n  color: #09ceb7;\r\n  margin: 16px 0;\r\n}\r\n.product_price {\r\n  color: #e5e5e5;\r\n  text-decoration: line-through;\r\n}\r\n.shop_love {\r\n  display: flex;\r\n  justify-content: space-evenly;\r\n}\r\n.shop_love,\r\n.love_icon {\r\n  font-size: 40px;\r\n  cursor: pointer;\r\n}\r\n/* 愛心樣式切換 */\r\n.fa-solid.fa-heart {\r\n  display: none;\r\n}\r\n\r\n.love_icon.active .fa-solid.fa-heart {\r\n  display: block;\r\n}\r\n\r\n.love_icon.active .fa-regular.fa-heart {\r\n  display: none;\r\n}\r\n</style>","import { render } from \"./ProductDetail.vue?vue&type=template&id=96dcd75e&scoped=true\"\nimport script from \"./ProductDetail.vue?vue&type=script&lang=js\"\nexport * from \"./ProductDetail.vue?vue&type=script&lang=js\"\n\nimport \"./ProductDetail.vue?vue&type=style&index=0&id=96dcd75e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-96dcd75e\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_13","_hoisted_15","_hoisted_16","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_toDisplayString","$data","productInfo","id","_hoisted_5","src","img","alt","_hoisted_7","_hoisted_8","title","_hoisted_9","model","_hoisted_10","cost","_hoisted_11","code","_hoisted_12","onClick","_cache","$event","$options","addToCart","_normalizeClass","active","Isfav","addFavorite","data","carItems","computed","productId","this","$route","params","loginedUserInfo","$store","getters","watch","created","productInfoGetInfo","getWishList","methods","$axios","get","then","res","NotexistItem","find","item","product","commit","wishList","filter","userId","console","log","existItem","productNumber","delete","Myfavorite","post","__exports__","render"],"sourceRoot":""}