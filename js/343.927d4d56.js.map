{"version":3,"file":"js/343.927d4d56.js","mappings":"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","sources":["webpack://shopping-test/./src/views/CheckoutView.vue","webpack://shopping-test/./src/views/CheckoutView.vue?d317"],"sourcesContent":["<template>\r\n  <div class=\"container\" v-if=\"carItems.length === 0\">您的購物車是空的</div>\r\n  <div class=\"content container\" v-else>\r\n    <div v-for=\"(item, index) in carItems\" :key=\"index\">\r\n      <div>\r\n        <div class=\"item-img\">\r\n          <img :src=\"item.product.img\" alt=\"\" />\r\n        </div>\r\n        <div class=\"item-title\">{{ item.product.title }}</div>\r\n        <div class=\"item-number\">{{ item.product.id }}</div>\r\n        <div class=\"item-cost\">{{ item.product.cost }}</div>\r\n      </div>\r\n      <div>\r\n        <button @click=\"Increase(item)\">+</button>\r\n        <button @click=\"reduce(item)\">-</button>\r\n        <div>{{ item.number }}</div>\r\n        <button @click=\"remover(item)\">刪除商品</button>\r\n        <div>购物车总金额: {{ carTotal }}</div>\r\n        <RouterLink to=\"/Payment\"\r\n          ><button @click=\"getOrders\">結帳</button></RouterLink\r\n        >\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {};\r\n  },\r\n  computed: {\r\n    // 透過computed取得store的資訊\r\n    // 利用getters取得使用者資訊\r\n    loginedUserInfo() {\r\n      return this.$store.getters.loginedUserInfo;\r\n    },\r\n    // 利用state取得商品資訊\r\n    carItems() {\r\n      return this.$store.state.carItems;\r\n    },\r\n    carTotal() {\r\n      // 利用getters取得計算金額\r\n      return this.$store.getters.totalCost;\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    getOrders() {\r\n      let carItems = this.carItems.map(function (element) {\r\n        return element.product.id;\r\n      });\r\n\r\n      let Myorders = {\r\n        productNumber: carItems,\r\n        userId: this.loginedUserInfo.id,\r\n      };\r\n\r\n      this.$axios.post(\"http://localhost:3000/orders/\", Myorders).then(() => {\r\n        this.getOrder();\r\n      });\r\n    },\r\n    getOrder() {\r\n      this.$axios.get(\"http://localhost:3000/orders/\").then((res) => {\r\n        this.orders = res.data.filter(\r\n          (item) => item.userId === this.loginedUserInfo.id\r\n        );\r\n      });\r\n    },\r\n    Increase(item) {\r\n      this.$store.commit(\"addShoppingCar\", item.product);\r\n    },\r\n    reduce(item) {\r\n      this.$store.commit(\"reduce\", item.product);\r\n    },\r\n    remover(item) {\r\n      this.$store.commit(\"removeShoppingCar\", item.product);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.container {\r\n  text-align: center;\r\n  font-size: 30px;\r\n}\r\n.content {\r\n  text-align: center;\r\n}\r\n.item-img {\r\n  width: 100%;\r\n  background: #000;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.item-img img {\r\n  width: 250px;\r\n  height: 300px;\r\n  padding: 10px;\r\n}\r\n</style>","import { render } from \"./CheckoutView.vue?vue&type=template&id=58b3da12&scoped=true\"\nimport script from \"./CheckoutView.vue?vue&type=script&lang=js\"\nexport * from \"./CheckoutView.vue?vue&type=script&lang=js\"\n\nimport \"./CheckoutView.vue?vue&type=style&index=0&id=58b3da12&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-58b3da12\"]])\n\nexport default __exports__"],"names":["class","$options","carItems","length","_createElementBlock","_hoisted_1","_hoisted_2","_Fragment","_renderList","item","index","key","_createElementVNode","_hoisted_3","src","product","img","alt","_hoisted_5","_toDisplayString","title","_hoisted_6","id","_hoisted_7","cost","onClick","$event","Increase","_hoisted_8","reduce","_hoisted_9","number","remover","_hoisted_10","carTotal","_createVNode","_component_RouterLink","to","_cache","args","getOrders","data","computed","loginedUserInfo","this","$store","getters","state","totalCost","methods","map","element","Myorders","productNumber","userId","$axios","post","then","getOrder","get","res","orders","filter","commit","__exports__","render"],"sourceRoot":""}