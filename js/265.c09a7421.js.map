{"version":3,"file":"js/265.c09a7421.js","mappings":"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","sources":["webpack://shopping-test/./src/views/DeliverSeven.View.vue","webpack://shopping-test/./src/views/DeliverSeven.View.vue?3c2a"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <label for=\"name\">姓名</label>\r\n    <input v-model=\"name\" type=\"text\" name=\"name\" id=\"name\" />\r\n    <div v-if=\"errors.name\" class=\"error-message\">{{ errors.name }}</div>\r\n    <br />\r\n\r\n    <label for=\"phone\">手機號碼</label>\r\n    <input v-model=\"phone\" type=\"text\" name=\"cellphone\" id=\"phone\" />\r\n    <div v-if=\"errors.phone\" class=\"error-message\">{{ errors.phone }}</div>\r\n    <br />\r\n    <select\r\n      @change=\"changeArea\"\r\n      id=\"area\"\r\n      name=\"area\"\r\n      required\r\n      v-model=\"selectedArea\"\r\n    >\r\n      <option value=\"\">請選擇地區</option>\r\n      <option v-for=\"area in arealist\" :key=\"area.name\" :value=\"area\">\r\n        {{ area.name }}\r\n      </option>\r\n    </select>\r\n    <div v-if=\"errors.selectedArea\" class=\"error-message\">\r\n      {{ errors.selectedArea }}\r\n    </div>\r\n\r\n    <select\r\n      id=\"shop\"\r\n      name=\"shop\"\r\n      required\r\n      v-model=\"SevenShop\"\r\n      :disabled=\"!selectedArea\"\r\n    >\r\n      <option value=\"\">請選擇門市</option>\r\n      <option v-for=\"shop in shoplist\" :key=\"shop.townname\" :value=\"shop\">\r\n        {{ shop.townname }}\r\n      </option>\r\n    </select>\r\n    <div v-if=\"errors.SevenShop\" class=\"error-message\">\r\n      {{ errors.SevenShop }}\r\n    </div>\r\n\r\n    <input @click=\"submit\" class=\"sub\" type=\"submit\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      arealist: [],\r\n      shoplist: [],\r\n      selectedArea: \"\",\r\n      name: \"\",\r\n      phone: \"\",\r\n      SevenShop: \"\",\r\n      errors: {},\r\n    };\r\n  },\r\n  created() {\r\n    this.$axios.get(\"https://api.nlsc.gov.tw/other/ListCounty\").then((res) => {\r\n      this.processXmlListInfo(res, \"county\");\r\n    });\r\n  },\r\n\r\n  computed: {},\r\n  methods: {\r\n    changeArea() {\r\n      this.$axios\r\n        .get(\r\n          \"https://api.nlsc.gov.tw/other/ListTown1/\" + this.selectedArea.code01\r\n        )\r\n        .then((res) => {\r\n          this.shoplist = res.data;\r\n        });\r\n    },\r\n    processXmlListInfo(res, target) {\r\n      this.arealist = [];\r\n      // 處理 縣市/區 列表資訊\r\n      const xmlString = res.data;\r\n\r\n      //使用JavaScript的内置DOM解析器DOMParser来解析XML字符串\r\n      const parser = new DOMParser();\r\n      const xmlDoc = parser.parseFromString(xmlString, \"text/xml\");\r\n\r\n      //取得 縣市/區 列表 (HTMLCollection 狀態)\r\n      const list = xmlDoc.getElementsByTagName(`${target}Item`);\r\n\r\n      // console.log(\"list\", list);\r\n\r\n      // HTMLCollection 狀態 縣市/區 列表轉換成 Array 狀態 縣市/區 列表\r\n      for (let i = 0; i < list.length; i++) {\r\n        const item = list[i];\r\n        console.log(\"item\", item);\r\n        const code = item.querySelector(`${target}code`).textContent;\r\n        console.log(\"code\", code);\r\n        const name = item.querySelector(`${target}name`).textContent;\r\n        console.log(\"name\", name);\r\n        const code01 = parseInt(\r\n          item.querySelector(`${target}code01`).textContent\r\n        );\r\n        console.log(\"code01\", code01);\r\n        // 創建縣市 / 區 資訊物件\r\n        const itemObject = {\r\n          id: i + 1,\r\n          code,\r\n          name,\r\n          code01,\r\n        };\r\n        // console.log(\"itemObject\", itemObject);\r\n        // 判斷taget 為 縣市 或 區，再進行對應的 push\r\n        this.arealist.push(itemObject);\r\n      }\r\n    },\r\n    submit() {\r\n      this.errors = {};\r\n\r\n      if (this.name === \"\") {\r\n        this.errors.name = \"姓名不能為空\";\r\n      } else if (!this.name.match(/^[A-Za-z\\u4e00-\\u9fa5]+$/)) {\r\n        this.errors.name = \"姓名只能包含中英文字符\";\r\n      }\r\n\r\n      if (this.phone === \"\") {\r\n        this.errors.phone = \"手機號碼不能為空\";\r\n      } else if (!/^\\d{10}$/.test(this.phone)) {\r\n        this.errors.phone = \"手機號碼必須是10位數\";\r\n      }\r\n      if (!this.selectedArea) {\r\n        this.errors.selectedArea = \"請選擇地區\";\r\n      }\r\n      if (!this.SevenShop) {\r\n        this.errors.SevenShop = \"請選擇門市\";\r\n      }\r\n      // 都沒有錯誤訊息才能跳轉\r\n      if (Object.keys(this.errors).length === 0) {\r\n        let MemberProfile = {\r\n          name: this.name,\r\n          phone: this.phone,\r\n          selectedAreaCode: this.selectedArea.code01,\r\n          selectedAreaName: this.selectedArea.name,\r\n          SevenShopCode: this.SevenShop.towncode01,\r\n          SevenShopName: this.SevenShop.townname,\r\n          status: true,\r\n        };\r\n        this.$axios\r\n          .post(\"http://localhost:3000/sevenDatil/\", MemberProfile)\r\n          .then(() => {\r\n            this.$router.push({ name: \"OrderView\" });\r\n          });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.container {\r\n  text-align: center;\r\n}\r\n.error-message {\r\n  color: red;\r\n  font-size: 14px;\r\n  margin-top: 5px;\r\n}\r\n</style>","import { render } from \"./DeliverSeven.View.vue?vue&type=template&id=6b8dd0b4&scoped=true\"\nimport script from \"./DeliverSeven.View.vue?vue&type=script&lang=js\"\nexport * from \"./DeliverSeven.View.vue?vue&type=script&lang=js\"\n\nimport \"./DeliverSeven.View.vue?vue&type=style&index=0&id=6b8dd0b4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6b8dd0b4\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","value","_createElementBlock","_hoisted_1","_hoisted_2","$data","name","$event","type","id","errors","_hoisted_3","_toDisplayString","_hoisted_4","_hoisted_5","phone","_hoisted_6","_hoisted_7","onChange","_cache","args","$options","changeArea","required","selectedArea","_hoisted_8","_Fragment","_renderList","arealist","area","key","_hoisted_9","_hoisted_10","SevenShop","disabled","_hoisted_12","shoplist","shop","townname","_hoisted_13","_hoisted_14","onClick","submit","data","created","this","$axios","get","then","res","processXmlListInfo","computed","methods","code01","target","xmlString","parser","DOMParser","xmlDoc","parseFromString","list","getElementsByTagName","i","length","item","console","log","code","querySelector","textContent","parseInt","itemObject","push","match","test","Object","keys","MemberProfile","selectedAreaCode","selectedAreaName","SevenShopCode","towncode01","SevenShopName","status","post","$router","__exports__","render"],"sourceRoot":""}